(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,a){t.exports={App:"App_App__3cNyB",title:"App_title__1TTBl"}},21:function(t,e,a){t.exports={label:"Filter_label__2Lg0z",input:"Filter_input__1O1-o"}},37:function(t,e,a){},6:function(t,e,a){t.exports={formWrapper:"ContactForm_formWrapper__2c3Gq",form:"ContactForm_form__3j02c",label:"ContactForm_label__3gWvi",input:"ContactForm_input__uvRQN",button:"ContactForm_button__2-L1T"}},65:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(14),s=a.n(r),o=(a(37),a(17)),u=a.n(o),i=a(22),l=a(6),b=a.n(l),p=a(7),j=a.n(p),d=a(18),f=a(3),m=a(10),O=a.n(m);O.a.defaults.baseURL="https://619aad8627827600174452eb.mockapi.io";var h=Object(f.c)("contacts/fetchContacts",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,O.a.get("/contacts");case 4:return c=t.sent,r=c.data,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),v=Object(f.c)("contacts/addContact",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,O.a.post("/contacts",e);case 4:return c=t.sent,r=c.data,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),x=Object(f.c)("contacts/deleteContact",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,O.a.delete("/contacts/".concat(e));case 4:return c=t.sent,r=c.data.id,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),_={addContacts:v,deleteContacts:x,fetchContacts:h},C=a(5),N=a(15),w=function(t){return t.contacts.items},y=function(t){return t.contacts.filter},g=Object(N.a)([w,y],(function(t,e){var a=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(a)}))})),k=a(1);var L=function(){var t=Object(n.useState)(""),e=Object(i.a)(t,2),a=e[0],c=e[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),o=s[0],u=s[1],l=Object(C.c)(w),p=Object(C.b)(),j=function(t){switch(t.target.name){case"name":c(t.target.value);break;case"number":u(t.target.value);break;default:return}},d=function(){c(""),u("")};return Object(k.jsx)("div",{className:b.a.formWrapper,children:Object(k.jsxs)("form",{className:b.a.form,onSubmit:function(t){if(t.preventDefault(),l.find((function(t){return t.name.toLowerCase()===a.toLowerCase()})))return alert("This contact has already been added to the list");p(_.addContacts({name:a,number:o})),d()},children:[Object(k.jsxs)("label",{className:b.a.label,children:["Name",Object(k.jsx)("input",{className:b.a.input,value:a,type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:j})]}),Object(k.jsxs)("label",{className:b.a.label,children:["Number",Object(k.jsx)("input",{className:b.a.input,type:"tel",value:o,name:"number",placeholder:"Number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:j})]}),Object(k.jsx)("button",{className:b.a.button,children:"Add contact"})]})})},A=a(8),F=a.n(A),W=function(){var t=Object(C.c)(g),e=Object(C.b)();return Object(n.useEffect)((function(){e(_.fetchContacts())}),[e]),Object(k.jsx)("div",{className:F.a.listWrapper,children:Object(k.jsx)("ul",{className:F.a.list,children:t.map((function(t){var a=t.name,n=t.number,c=t.id;return Object(k.jsxs)("li",{className:F.a.item,children:[Object(k.jsxs)("p",{className:F.a.text,children:[a,":"]}),Object(k.jsx)("p",{className:F.a.text,children:n}),Object(k.jsx)("button",{className:F.a.button,type:"button",onClick:function(){return e(_.deleteContacts(c))},children:"Delete"})]},c)}))})})},T=a(21),z=a.n(T),S=Object(f.b)("contacts/filter");var B=function(){var t=Object(C.c)(y),e=Object(C.b)();return Object(k.jsxs)("label",{className:z.a.label,children:["Find contacts by name",Object(k.jsx)("input",{className:z.a.input,type:"text",name:"name",value:t,onChange:function(t){return e(S(t.target.value))}})]})};var V,Z=function(){return Object(k.jsxs)("div",{className:u.a.App,children:[Object(k.jsx)("h1",{className:u.a.title,children:"Phonebook"}),Object(k.jsx)(L,{}),Object(k.jsx)("h2",{className:u.a.title,children:"Contacts"}),Object(k.jsx)(B,{}),Object(k.jsx)(W,{})]})},q=(a(64),a(11)),D=a(32),E=a(4),J=_.addContacts,M=_.deleteContacts,R=_.fetchContacts,G=Object(f.d)([],(V={},Object(q.a)(V,R.fulfilled,(function(t,e){return e.payload})),Object(q.a)(V,J.fulfilled,(function(t,e){var a=e.payload;return[].concat(Object(D.a)(t),[a])})),Object(q.a)(V,M.fulfilled,(function(t,e){var a=e.payload;return t.filter((function(t){return t.id!==a}))})),V)),I=Object(f.d)("",Object(q.a)({},S,(function(t,e){return e.payload}))),K=Object(E.b)({items:G,filter:I}),P=Object(f.a)({reducer:{contacts:K},devTools:!1});s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(C.a,{store:P,children:Object(k.jsx)(Z,{})})}),document.getElementById("root"))},8:function(t,e,a){t.exports={item:"ContactList_item__1OfXK",text:"ContactList_text__9pCOL",button:"ContactList_button__mo3qM"}}},[[65,1,2]]]);
//# sourceMappingURL=main.dc8cd9f5.chunk.js.map